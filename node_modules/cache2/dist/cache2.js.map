{"version":3,"file":"cache2.js","sources":["../node_modules/.pnpm/@rollup+plugin-typescript@11.1.6_rollup@4.24.0_tslib@2.7.0_typescript@5.6.3/node_modules/tslib/tslib.es6.js","../node_modules/.pnpm/emitter-pro@1.2.2/node_modules/emitter-pro/dist/emitter-pro.esm.js","../src/MemoryStorage.ts","../src/utils.ts","../src/Storage.ts","../src/Cache.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n};\r\n","/**\n * 事件触发器，支持浏览器端和 node 端。\n *\n * @class\n * @example\n *\n * const emitter = new Emitter();\n *\n * // 注册监听方法\n * emitter.on('foo', () => console.log('foo 1'));\n * emitter.on('foo', () => console.log('foo 2'));\n *\n * // 触发方法\n * emitter.emit('foo');\n * // foo 1\n * // foo 2\n *\n * // 取消监听方法\n * emitter.off('foo');\n *\n * // 支持链式调用\n * emitter.on('foo', () => {})\n *  .on('foo', () => {})\n *  .off('foo');\n */\nvar EmitterPro = /** @class */ (function () {\n    function EmitterPro() {\n        this.handlers = {};\n    }\n    /**\n     * 获取全部事件名称。\n     *\n     * @returns 事件名称数组。\n     * @example\n     * emitter.on('foo', () => {});\n     * emitter.on('bar', () => {});\n     *\n     * emitter.eventNames(); // ['foo', 'bar']\n     */\n    EmitterPro.prototype.eventNames = function () {\n        var _a;\n        var symbols = ((_a = Object.getOwnPropertySymbols) === null || _a === void 0 ? void 0 : _a.call(Object, this.handlers)) || [];\n        var keys = Object.keys(this.handlers);\n        return keys.concat(symbols);\n    };\n    /**\n     * 获取事件名称的全部监听方法（原始方法，未经过包装处理）。\n     *\n     * @param eventName 事件名称\n     * @returns 对应事件名称的监听方法数组\n     * @example\n     * const fn1 = () => console.log('bar');\n     * const fn2 = () => console.log('baz');\n     *\n     * emitter.on('test', fn1);\n     * emitter.once('test', fn2);\n     *\n     * emitter.rawListeners('test'); // [fn1, fn2]\n     */\n    EmitterPro.prototype.rawListeners = function (eventName) {\n        var handler = this.handlers[eventName];\n        return handler ? handler.map(function (item) { return item.raw; }) : [];\n    };\n    /**\n     * 获取事件名称的全部监听方法（如通过 `once` 方法注册，返回的是包装方法）。\n     *\n     * @param eventName 事件名称\n     * @returns 对应事件名称的监听方法数组\n     * @example\n     * const fn1 = () => console.log('bar');\n     * const fn2 = () => console.log('baz');\n     *\n     * emitter.on('test', fn1);\n     * emitter.once('test', fn2);\n     *\n     * emitter.rawListeners('test'); // [fn1, wrapFn2]\n     */\n    EmitterPro.prototype.listeners = function (eventName) {\n        var handler = this.handlers[eventName];\n        return handler ? handler.map(function (item) { return item.wrap; }) : [];\n    };\n    /**\n     * 判断事件名称对应的监听方法是否存在。\n     *\n     * @param eventName 事件名称\n     * @param listener 监听方法\n     * @returns 如果事件名称存在该事件方法返回 `true`，否则返回 `false`。\n     * @example\n     * const fn1 = () => console.log('bar');\n     * const fn2 = () => console.log('baz');\n     *\n     * emitter.on('test', fn1);\n     * emitter.once('test', fn2);\n     *\n     * emitter.hasListener('test', fn1); // true\n     * emitter.hasListener('test', fn2); // true\n     *\n     * // fn2 是通过 once 方法注册，执行一次后自动解绑\n     * emitter.emit('test');\n     *\n     * emitter.hasListener('test', fn1); // true\n     * emitter.hasListener('test', fn2); // false\n     */\n    EmitterPro.prototype.hasListener = function (eventName, listener) {\n        return this.rawListeners(eventName).some(function (item) { return item === listener; });\n    };\n    EmitterPro.prototype._on = function (eventName, raw, wrap, context, dir) {\n        if (context === void 0) { context = null; }\n        if (dir === void 0) { dir = 1; }\n        var currentListener = { raw: raw, wrap: wrap, context: context };\n        if (!this.handlers[eventName]) {\n            this.handlers[eventName] = [currentListener];\n        }\n        else {\n            var appendMethod = dir === 1 ? 'push' : 'unshift';\n            this.handlers[eventName][appendMethod](currentListener);\n        }\n        return this;\n    };\n    /**\n     * 注册监听方法。同 `on` 方法，只是将监听方法添加到最前面（事件触发是按顺序执行）。\n     *\n     * @param eventName 事件名称\n     * @param listener 监听方法\n     * @param context 执行上下文\n     * @returns 事件触发器实例。\n     * @example\n     * emitter.on('foo', () => console.log('bar'));\n     * emitter.prependListener('foo', () => console.log(42));\n     *\n     * emitter.emit('foo');\n     * // 42\n     * // bar\n     */\n    EmitterPro.prototype.prependListener = function (eventName, listener, context) {\n        return this._on(eventName, listener, listener, context, 0);\n    };\n    /**\n     * 注册监听方法。允许多次添加同一引用的函数。\n     *\n     * @param eventName 事件名称\n     * @param listener 监听方法\n     * @param context 执行上下文\n     * @returns 事件触发器实例。\n     * @example\n     * emitter.on('foo', () => console.log('bar'));\n     * emitter.on('foo', () => console.log(42));\n     *\n     * emitter.emit('foo');\n     * // bar\n     * // 42\n     */\n    EmitterPro.prototype.on = function (eventName, listener, context) {\n        return this._on(eventName, listener, listener, context);\n    };\n    EmitterPro.prototype._wrapOnce = function (eventName, listener, context) {\n        var _this = this;\n        if (context === void 0) { context = null; }\n        var wrap = (function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            listener.apply(context, args);\n            _this.off(eventName, wrap);\n        });\n        return wrap;\n    };\n    /**\n     * 仅触发一次的监听方法。使用方法同 `on` 。\n     *\n     * @param eventName 事件名称\n     * @param listener 监听方法\n     * @param context 执行上下文\n     * @returns 事件触发器实例。\n     * @example\n     * emitter.on('foo', () => console.log('bar'));\n     * emitter.once('foo', () => console.log(42));\n     *\n     * emitter.emit('foo');\n     * // bar\n     * // 42\n     *\n     * emitter.emit('foo');\n     * // bar\n     */\n    EmitterPro.prototype.once = function (eventName, listener, context) {\n        var wrap = this._wrapOnce(eventName, listener, context);\n        return this._on(eventName, listener, wrap, context);\n    };\n    /**\n     * 仅触发一次的监听方法。同 `once` 方法，只是添加到最前面（事件触发是按顺序执行）。\n     *\n     * @param eventName 事件名称\n     * @param listener 监听方法\n     * @param context 执行上下文\n     * @returns 事件触发器实例。\n     * @example\n     * emitter.on('foo', () => console.log('bar'));\n     * emitter.prependOnceListener('foo', () => console.log(42));\n     *\n     * emitter.emit('foo');\n     * // 42\n     * // bar\n     *\n     * emitter.emit('foo');\n     * // bar\n     */\n    EmitterPro.prototype.prependOnceListener = function (eventName, listener, context) {\n        var wrap = this._wrapOnce(eventName, listener, context);\n        return this._on(eventName, listener, wrap, context, 0);\n    };\n    /**\n     * 取消监听方法。如果不传第二个参数，将取消该事件名称的全部监听方法。如果多次添加同一引用的函数，需要多次删除。\n     *\n     * @param eventName 事件名称\n     * @param listener 监听方法\n     * @returns 事件触发器实例。\n     * @example\n     * const fn = () => console.log('bar');\n     * emitter.on('foo', fn);\n     * emitter.on('foo', () => console.log('baz'));\n     * emitter.on('foo', () => console.log(42));\n     *\n     * emitter.emit('foo');\n     * // bar\n     * // baz\n     * // 42\n     *\n     * emitter.off('foo', fn); // 取消 foo 的监听方法 fn\n     *\n     * emitter.emit('foo');\n     * // bar\n     * // 42\n     *\n     * emitter.off('foo'); // 取消 foo 的全部监听方法\n     * emitter.emit('foo'); // 什么都没发生\n     */\n    EmitterPro.prototype.off = function (eventName, listener) {\n        var handler = this.handlers[eventName];\n        if (handler) {\n            if (listener) {\n                var index = handler.findIndex(function (item) { return item.wrap === listener || item.raw === listener; });\n                if (index !== -1) {\n                    handler.splice(index, 1);\n                }\n            }\n            else {\n                delete this.handlers[eventName];\n            }\n        }\n        return this;\n    };\n    /**\n     * 取消全部事件名称的监听方法。\n     *\n     * @returns 事件触发器实例。\n     * @example\n     * const fn = () => console.log('bar');\n     * emitter.on('test', fn);\n     * emitter.on('test', () => console.log('baz'));\n     * emitter.on('test', () => console.log(42));\n     *\n     * emitter.on('other', fn);\n     * emitter.on('other', () => console.log('baz'));\n     *\n     * emitter.emit('test');\n     * // bar\n     * // baz\n     * // 42\n     *\n     * emitter.emit('other');\n     * // bar\n     * // baz\n     *\n     * emitter.offAll(); // 取消全部监听方法\n     *\n     * emitter.emit('test'); // 什么都没发生\n     * emitter.emit('other'); // 什么都没发生\n     */\n    EmitterPro.prototype.offAll = function () {\n        this.handlers = {};\n        return this;\n    };\n    /**\n     * 触发监听方法。\n     *\n     * @param eventName 事件名称\n     * @param args 触发监听方法的参数（从第二个参数开始都将传给监听方法）\n     * @returns 如果触发成功返回 `true`，否则返回 `false`。\n     * @example\n     * emitter.on('foo', () => console.log('bar'));\n     * emitter.on('foo', () => console.log(42));\n     *\n     * emitter.emit('foo');\n     * // bar\n     * // 42\n     *\n     * // 支持传入参数\n     * emitter.on('test' (a, b) => console.log(a + b));\n     * emitter.on('test' (a, b) => console.log(a * b));\n     *\n     * emitter.emit('other', 2, 5);\n     * // 7\n     * // 10\n     *\n     * emitter.emit('other', 5, 5);\n     * // 10\n     * // 25\n     */\n    EmitterPro.prototype.emit = function (eventName) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var handler = this.handlers[eventName];\n        if (handler && handler.length > 0) {\n            handler.forEach(function (listener) {\n                listener.wrap.apply(listener.context, args);\n            });\n            return true;\n        }\n        return false;\n    };\n    return EmitterPro;\n}());\n\nexport { EmitterPro as default };\n","type Key = string | symbol;\nconst cache: Record<Key, Record<string, any>> = {};\n\nclass MemoryStorage {\n  private scope: Key;\n  data: Record<string, any>;\n\n  constructor(scope: Key = 'default') {\n    this.scope = scope;\n    if (!cache[this.scope]) {\n      cache[this.scope] = {};\n    }\n    this.data = cache[this.scope];\n  }\n\n  getItem(key: string) {\n    return key in this.data ? this.data[key] : null;\n  }\n\n  setItem(key: string, value: any) {\n    this.data[key] = value;\n  }\n\n  removeItem(key: string) {\n    delete this.data[key];\n  }\n\n  clear() {\n    cache[this.scope] = {};\n    this.data = cache[this.scope];\n  }\n}\n\nexport default MemoryStorage;\n","import { JSON_Parse_reviver, JSON_Stringify_replacer, TStorage } from './interface';\n\n// 随机字符串\nfunction randomString() {\n  return Math.random().toString(16).substring(2, 8);\n}\n\n// 是否支持 storage\nexport function isStorageSupported(storage: TStorage) {\n  try {\n    const isSupport =\n      typeof storage === 'object' &&\n      storage !== null &&\n      !!storage.setItem &&\n      !!storage.getItem &&\n      !!storage.removeItem;\n    if (isSupport) {\n      const key = randomString() + new Date().getTime();\n      const value = '1';\n      storage.setItem(key, value);\n      if (storage.getItem(key) !== value) {\n        return false;\n      }\n      storage.removeItem(key);\n    }\n    return isSupport;\n  } catch (e) {\n    console.error(`[cache2] ${storage} is not supported. The default memory cache will be used.`);\n    return false;\n  }\n}\n\nexport function parse(value: any, reviver?: JSON_Parse_reviver) {\n  try {\n    return JSON.parse(value, reviver);\n  } catch (e) {\n    return value;\n  }\n}\n\nexport function stringify(value: any, replacer?: JSON_Stringify_replacer) {\n  return JSON.stringify(value, replacer);\n}\n","import { JSON_Parse_reviver, JSON_Stringify_replacer, TStorage } from './interface';\nimport MemoryStorage from './MemoryStorage';\nimport { isStorageSupported, parse, stringify } from './utils';\n\nexport type StorageOptions = {\n  needParsed: boolean;\n  replacer: JSON_Stringify_replacer;\n  reviver: JSON_Parse_reviver;\n  memoryScope?: string; // 内存缓存域\n  prefix?: string;\n};\n\n/**\n * 数据存储管理。\n *\n * @class\n * @param {Object} [storage] 自定义缓存对象要包含 `getItem` `setItem` `removeItem` 方法。默认使用内存缓存。\n * @param {Object} [options] 配置项。可选。\n * @param {boolean} [options.needParsed] 存取数据时是否需要序列化和解析数据。如果使用内置的内存缓存，默认 `false`，如果自定义 `storage` 默认 `true`。\n * @param {Function} [options.replacer] 数据存储时序列化的参数，透传给 [JSON.stringify](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify) 的 `replacer` 参数。仅在 `needParsed=true` 时生效。\n * @param {Function} [options.reviver] 数据获取时转换的参数，透传给 [JSON.parse](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse) 的 `reviver` 参数。仅在 `needParsed=true` 时生效。\n * @param {string} [options.prefix] 缓存键前缀。便于管理同域名下的不同项目缓存。\n * @example\n * // 使用内存缓存\n * const memory = new Storage();\n * memory.set('foo', { baz: 42 });\n * memory.get('foo');\n * // { baz: 42 }\n *\n * // 自定义缓存 sessionStorage 。\n * const session = new Storage(window.sessionStorage);\n * session.set('foo', { a: 1, b: ['bar'], c: ['x', 2, 3] });\n * session.get('foo');\n * // { a: 1, b: ['bar'], c: ['x', 2, 3] }\n *\n * session.del('foo'); // 删除缓存\n * session.get('foo');\n * // null\n *\n * // 使用缓存键前缀。\n * // 如果要使用内存缓存， storage 传 `undefined`。\n * const local = new Storage(window.localStorage, { prefix: 'project_name' });\n * local.set('foo', { baz: 42 });\n * local.get('foo');\n * // { baz: 42 }\n */\nexport class Storage<ValueType = any> {\n  private storage: TStorage;\n  private options: Partial<StorageOptions>;\n\n  constructor(storage?: TStorage, options: Partial<StorageOptions> = {}) {\n    const isSupported = storage ? isStorageSupported(storage) : false;\n    this.options = {\n      needParsed: isSupported,\n      prefix: '',\n      ...options\n    };\n\n    this.storage = isSupported ? storage! : new MemoryStorage(this.options.memoryScope);\n  }\n\n  /**\n   * 内部用于获取存储的键名称。\n   *\n   * 如果实例有设置 `prefix`，返回 `prefix + key`。\n   *\n   * @protected\n   * @param key 原键名称\n   * @returns 存储的键名称\n   */\n  protected getKey(key: string) {\n    return this.options.prefix + key;\n  }\n\n  /**\n   * 获取存储的数据。\n   *\n   * @param {string} key 键名称。\n   * @returns 如果键值存在返回键值，否则返回 `null`。\n   * @example\n   * const local = new Storage(window.localStorage);\n   * local.set('foo', { baz: 42 });\n   * local.get('foo');\n   * // { baz: 42 }\n   */\n  get<T extends ValueType = ValueType>(key: string): T | null {\n    const value = this.storage.getItem(this.getKey(key));\n    return this.options.needParsed ? parse(value, this.options.reviver) : value;\n  }\n\n  /**\n   * 存储数据。\n   *\n   * @param key 键名称。\n   * @param value 键值。\n   * @example\n   * const local = new Storage(window.localStorage);\n   * local.set('foo', { baz: 42 });\n   * local.get('foo');\n   * // { baz: 42 }\n   */\n  set<T extends ValueType = ValueType>(key: string, value: T) {\n    this.storage.setItem(\n      this.getKey(key),\n      this.options.needParsed ? stringify(value, this.options.replacer) : value\n    );\n  }\n\n  /**\n   * 删除存储的数据。\n   *\n   * @param key 键名称。\n   * @example\n   * const local = new Storage(window.localStorage);\n   * local.set('foo', { baz: 42 });\n   * local.get('foo');\n   * // { baz: 42 }\n   *\n   * local.del('foo');\n   * local.get('foo');\n   * // null\n   */\n  del(key: string) {\n    this.storage.removeItem(this.getKey(key));\n  }\n\n  /**\n   * 清除存储的所有键。\n   *\n   * 注意：该方法调用 `storage.clear()`，可能会将同域下的不同实例的所有键都清除。如果要避免这种情况，建议使用 `import { Cache } 'cache2'`。\n   *\n   * @example\n   * const local = new Storage(window.localStorage);\n   * local.set('foo', { baz: 42 });\n   * local.get('foo');\n   * // { baz: 42 }\n   *\n   * local.clear();\n   * local.get('foo');\n   * // null\n   */\n  clear() {\n    if (typeof this.storage.clear === 'function') {\n      this.storage.clear();\n    }\n  }\n}\n","import Emitter from 'emitter-pro';\nimport { TStorage } from './interface';\nimport { Storage, StorageOptions } from './Storage';\n\n// 命名空间缓存键前缀。\nconst defaultPrefix = 'cache2_';\nconst defaultNamespace = 'default';\n\ntype CacheData<ValueType = any> = {\n  v: ValueType; // value\n  t: number; // time to live\n  n: number; // last modified time\n};\ntype CacheRecord<ValueType = any> = Record<string, CacheData<ValueType>>;\n\nexport type CacheOptions = Omit<StorageOptions, 'memoryScope'> & {\n  max: number;\n  maxStrategy: 'limited' | 'replaced';\n  stdTTL: number;\n  checkperiod: number;\n  storage: TStorage;\n};\n\n/**\n * 功能丰富的数据存储管理，支持 `自定义缓存` `命名空间` `数据过期时间` `限制缓存数量` `自定义事件`。\n *\n * 注意：如果你需要的是简单的基本数据存储管理，例如浏览器存储，建议使用 `import { Storage } from 'cache2'`。\n *\n * @class\n * @param {string} [namespace] 命名空间。可选。\n * @param {Object} [options] 配置项。可选。\n * @param {Object} [options.storage] 自定义缓存对象要包含 `getItem` `setItem` `removeItem` 方法。默认使用内置的内存缓存。\n * @param {number} [options.max=-1] 最大缓存数据数量。`-1` 表示无限制。默认 `-1`。\n * @param {'limited' | 'replaced'} [options.maxStrategy='limited'] 当达到最大缓存数量限制时的缓存策略。`limited` 表示达到限制数量后不存入数据，保存时返回 `false`。`replaced` 表示优先替换快过期的数据，如果都是一样的过期时间(0)，按照先入先出规则处理，保存时始终返回 `true`。默认 `limited`。\n * @param {number} [options.stdTTL=0] 相对当前时间的数据存活时间，应用于当前实例的所有缓存数据。单位为毫秒，`0` 表示无期限。默认 `0`。\n * @param {number} [options.checkperiod=0] 定时检查过期数据，单位毫秒。如果小于等于 `0` 表示不启动定时器检查。默认 `0`。\n * @param {boolean} [options.needParsed] 存取数据时是否需要序列化和解析数据。如果使用内置的内存缓存，默认 `false`，如果自定义 `storage` 默认 `true`。\n * @param {Function} [options.replacer] 数据存储时序列化的参数，透传给 [JSON.stringify](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify) 的 `replacer` 参数。仅在 `needParsed=true` 时生效。\n * @param {Function} [options.reviver] 数据获取时转换的参数，透传给 [JSON.parse](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse) 的 `reviver` 参数。仅在 `needParsed=true` 时生效。\n * @param {string} [options.prefix] 缓存键前缀。\n * @example\n * // 自定义过期时间\n * const memoryCache = new Cache({ stdTTL: 60 * 1000 });\n * memoryCache.set('foo', { baz: 42 });\n * memoryCache.get('foo');\n * // { baz: 42 }\n *\n * // 60 seconds later\n *\n * memoryCache.get('foo');\n * // undefined\n *\n * // 命名空间、自定义缓存\n * const localCache = new Cache('namespace', { storage: window.localStorage });\n * localCache.set('foo', { baz: 42 });\n * localCache.get('foo');\n * // { baz: 42 }\n *\n * localCache.del('foo');\n * localCache.get('foo');\n * // undefined\n */\nclass Cache<ValueType = any> extends Emitter<(key: string, value: ValueType) => void> {\n  private options: Pick<CacheOptions, 'max' | 'maxStrategy' | 'stdTTL' | 'checkperiod' | 'prefix'> &\n    Partial<Pick<CacheOptions, 'storage' | 'needParsed' | 'replacer' | 'reviver'>>;\n  private cacheKey: string;\n  private _checkTimeout: any;\n  storage: Storage;\n\n  constructor(options?: Partial<CacheOptions>); // 基础配置\n  constructor(namespace: string, options?: Partial<CacheOptions>); // 自定义命名空间\n  constructor(namespace?: any, options?: any) {\n    super();\n\n    let ns = defaultNamespace,\n      opts: CacheOptions | undefined;\n    if (typeof namespace === 'string') {\n      ns = namespace || defaultNamespace;\n    } else if (typeof namespace === 'object') {\n      opts = namespace;\n    }\n\n    if (!opts && typeof options === 'object') {\n      opts = options;\n    }\n\n    this.options = {\n      max: -1,\n      stdTTL: 0,\n      maxStrategy: 'limited',\n      checkperiod: 0,\n      prefix: defaultPrefix,\n      ...opts\n    };\n    this.storage = new Storage(this.options.storage, {\n      memoryScope: ns,\n      ...this.options\n    });\n\n    this.cacheKey = ns;\n    this.startCheckperiod();\n  }\n\n  /**\n   * 检查当前键值是否过期，如果过期将会自动删除。\n   *\n   * @param key 键名称。\n   * @param data 缓存数据。\n   * @returns 如果键值已过期返回 `false` ，否则返回 `true`。\n   */\n  private _check(key: string, data: CacheData) {\n    let ret = true;\n    if (data.t !== 0 && data.t < Date.now()) {\n      ret = false;\n      this.del(key);\n      this.emit('expired', key, data.v);\n    }\n    return ret;\n  }\n\n  private _wrap(value: ValueType, ttl?: number) {\n    const now = Date.now();\n    const currentTtl = typeof ttl === 'number' ? ttl : this.options.stdTTL;\n    const livetime = currentTtl > 0 ? now + currentTtl : 0;\n    return {\n      v: value,\n      t: livetime,\n      n: now\n    };\n  }\n\n  private _isLimited(len: number) {\n    return this.options.max > -1 && len >= this.options.max;\n  }\n\n  private _getReplaceKey(keys: string[], cacheValues: CacheRecord<ValueType>) {\n    let retkey = keys[0];\n    keys.forEach((key) => {\n      if (\n        cacheValues[key].t < cacheValues[retkey].t ||\n        (cacheValues[key].t === cacheValues[retkey].t && cacheValues[key].n < cacheValues[retkey].n)\n      ) {\n        retkey = key;\n      }\n    });\n    return retkey;\n  }\n\n  /**\n   * 获取全部缓存数据，不处理过期数据和排序\n   */\n  private get cacheValues() {\n    return this.storage.get(this.cacheKey) || {};\n  }\n\n  // 设置缓存数据\n  private setCacheValues(values: CacheRecord<ValueType>) {\n    this.storage.set(this.cacheKey, values);\n  }\n\n  /**\n   * 获取缓存值。\n   *\n   * @param {string} key 键名称。\n   * @returns {*} 如果找到该值，则返回该值。如果未找到或已过期，则返回 `undefined`。\n   * @example\n   * myCache.set('myKey', obj, 5 * 60 * 1000);\n   * myCache.get('myKey');\n   * // { foo: 'bar', baz: 42 }\n   *\n   * myCache.get('myKey2');\n   * // undefined\n   */\n  get<T extends ValueType = ValueType>(key: string) {\n    const data = this.cacheValues[key];\n    if (data && this._check(key, data)) {\n      return data.v as T;\n    }\n    return;\n  }\n\n  /**\n   * 获取多个缓存值。\n   *\n   * @param {string[]} keys 多个键名称。\n   * @returns {Object} 如果找到对应键名的值，返回一个具有键值对的对象。如果未找到或已过期，则返回一个空对象 `{}`。\n   * @example\n   * myCache.mset([\n   *   { key: 'myKey', value: { foo: 'bar', baz: 42 }, ttl: 5 * 60 * 1000 },\n   *   { key: 'myKey2', value: { a: 1, b: 2 } },\n   *   { key: 'myKey3', value: 'abc' }\n   * ]);\n   *\n   * myCache.mget(['myKey', 'myKey2']);\n   * // {\n   * //   myKey: { foo: 'bar', baz: 42 },\n   * //   myKey2: { a: 1, b: 2 }\n   * // }\n   */\n  mget<T extends ValueType = ValueType>(keys: string[]) {\n    const ret: Record<string, T> = {};\n    if (!Array.isArray(keys)) {\n      return ret;\n    }\n    const cacheValues = this.cacheValues;\n    keys.forEach((key) => {\n      const data = cacheValues[key];\n      if (data && this._check(key, data)) {\n        ret[key] = data.v;\n      }\n    });\n    return ret;\n  }\n\n  /**\n   * 获取全部缓存值。\n   *\n   * @returns {Object} 返回一个具有键值对的对象。\n   * @example\n   * myCache.mset([\n   *   { key: 'myKey', value: { foo: 'bar', baz: 42 }, ttl: 5 * 60 * 1000 },\n   *   { key: 'myKey2', value: { a: 1, b: 2 } },\n   *   { key: 'myKey3', value: 'abc' }\n   * ]);\n   *\n   * myCache.getAll();\n   * // {\n   * //   myKey: { foo: 'bar', baz: 42 },\n   * //   myKey2: { a: 1, b: 2 }\n   * //   myKey3: 'abc'\n   * // }\n   */\n  getAll<T extends ValueType = ValueType>() {\n    const keys = Object.keys(this.cacheValues);\n    return this.mget<T>(keys);\n  }\n\n  /**\n   * 设置缓存数据。\n   *\n   * 如果超出缓存数量，可能会设置失败。\n   *\n   * @param {string} key 键名称。\n   * @param {*} value 键值。\n   * @param {number} [ttl] 数据存活时间。单位毫秒 `ms`。\n   * @returns {boolean} 如果设置成功返回 `true`，否则返回 `false`。\n   * @example\n   * myCache.set('myKey', { foo: 'bar', baz: 42 }, 5 * 60 * 1000);\n   * // true\n   */\n  set<T extends ValueType = ValueType>(key: string, value: T, ttl?: number) {\n    if (this.options.max === 0) {\n      return false;\n    }\n\n    const cacheValues = this.cacheValues;\n    const keys = Object.keys(cacheValues);\n\n    // 当前不存在该键值，并且数据量超过最大限制\n    if (!cacheValues[key] && this._isLimited(keys.length)) {\n      const validKeys = this.keys();\n      if (this._isLimited(validKeys.length)) {\n        // 如果最大限制策略是替换，将优先替换快过期的数据，如果都是一样的过期时间(0)，按照先入先出规则处理。\n        if (this.options.maxStrategy === 'replaced') {\n          const replaceKey = this._getReplaceKey(validKeys, cacheValues);\n          this.del(replaceKey);\n        } else {\n          // 如果是最大限制策略是不允许添加，返回 false 。\n          return false;\n        }\n      }\n    }\n\n    cacheValues[key] = this._wrap(value, ttl);\n    this.setCacheValues(cacheValues);\n    this.emit('set', key, cacheValues[key].v);\n    return true;\n  }\n\n  /**\n   * 设置多个缓存数据。\n   *\n   * @param {Object[]} keyValueSet 多个键值对数据。\n   * @returns {boolean} 如果全部设置成功返回 `true`，否则返回 `false`。\n   * @example\n   * myCache.mset([\n   *   { key: 'myKey', value: { foo: 'bar', baz: 42 }, ttl: 5 * 60 * 1000 },\n   *   { key: 'myKey2', value: { a: 1, b: 2 } },\n   *   { key: 'myKey3', value: 'abc' }\n   * ]);\n   * // true\n   */\n  mset<T extends ValueType = ValueType>(keyValueSet: { key: string; value: T; ttl?: number }[]) {\n    // 该处不使用数组 some 方法，是因为不能某个失败，而导致其他就不在更新。\n    let ret = true;\n    keyValueSet.forEach((item) => {\n      const itemSetResult = this.set(item.key, item.value, item.ttl);\n      if (ret && !itemSetResult) {\n        ret = false;\n      }\n    });\n    return ret;\n  }\n\n  /**\n   * 删除一个或多个键。\n   *\n   * @param {string|string[]} key 要删除的键名。\n   * @returns {number} 返回已删除的数量。\n   * @example\n   * myCache.set('myKey', { foo: 'bar', baz: 42 });\n   * myCache.del('myKey'); // 1\n   * myCache.del('not found'); // 0\n   *\n   * myCache.mset([\n   *   { key: 'myKey', value: { foo: 'bar', baz: 42 }, ttl: 5 * 60 * 1000 },\n   *   { key: 'myKey2', value: { a: 1, b: 2 } },\n   *   { key: 'myKey3', value: 'abc' }\n   * ]);\n   * myCache.del(['myKey', 'myKey2']); // 2\n   */\n  del(key: string | string[]) {\n    const cacheValues = this.cacheValues;\n    let count = 0;\n    const keys = Array.isArray(key) ? key : [key];\n    keys.forEach((key) => {\n      if (cacheValues[key]) {\n        count++;\n        const oldData = cacheValues[key];\n        delete cacheValues[key];\n        this.emit('del', key, oldData.v);\n      }\n    });\n    if (count > 0) {\n      this.setCacheValues(cacheValues);\n    }\n    return count;\n  }\n\n  /**\n   * 清除全部缓存的数据。\n   *\n   * @example\n   * myCache.set('bar', 1);\n   * myCache.set('foo', 2);\n   * myCache.keys(); // ['bar', 'foo']\n   *\n   * myCache.clear();\n   * myCache.keys(); // []\n   */\n  clear() {\n    this.storage.del(this.cacheKey);\n  }\n\n  /**\n   * 获取全部键名的数组。\n   *\n   * @returns {string[]} 返回全部键名的数组。\n   * @example\n   * myCache.set('bar', 1);\n   * myCache.set('foo', 2);\n   *\n   * myCache.keys(); // ['bar', 'foo']\n   */\n  keys(): string[] {\n    const cacheValues = this.cacheValues;\n    const keys = Object.keys(cacheValues);\n    return keys.filter((key) => this._check(key, cacheValues[key]));\n  }\n\n  /**\n   * 判断是否存在某个键。\n   *\n   * @param {string} key 键名称。\n   * @returns {boolean} 如果包含该键返回 `true`，否则返回 `false`。\n   * @example\n   * myCache.has('foo'); // false\n   *\n   * myCache.set('foo', 1);\n   * myCache.has('foo'); // true\n   */\n  has(key: string) {\n    const data = this.cacheValues[key];\n    return !!(data && this._check(key, data));\n  }\n\n  /**\n   * 获取缓存值并从缓存中删除键。\n   *\n   * @param {string} key 键名称。\n   * @returns {*} 如果找到该值，则返回该值，并从缓存中删除该键。如果未找到或已过期，则返回 `undefined`。\n   * @example\n   * myCache.set('myKey', 'myValue');\n   * myCache.has('myKey'); // true\n   *\n   * myCache.take('myKey'); // 'myValue'\n   * myCache.has('myKey'); // false\n   */\n  take<T extends ValueType = ValueType>(key: string) {\n    let ret: T | undefined;\n    const data = this.cacheValues[key];\n    if (data && this._check(key, data)) {\n      ret = data.v;\n      this.del(key);\n    }\n    return ret;\n  }\n\n  /**\n   * 更新缓存键值的数据存活时间。\n   *\n   * @param {string} key 键名称。\n   * @param {number} ttl 数据存活时间。\n   * @returns {boolean} 如果找到并更新成功，则返回 `true`，否则返回 `false`。\n   * @example\n   * myCache.set('myKey', { foo: 'bar', baz: 42 }, 5 * 60 * 1000);\n   * myCache.ttl('myKey', 60 * 1000);\n   * // true\n   *\n   * myCache.ttl('not found', 1000);\n   * // false\n   */\n  ttl(key: string, ttl: number) {\n    const cacheValues = this.cacheValues;\n    const data = cacheValues[key];\n\n    if (data && this._check(key, data)) {\n      cacheValues[key] = this._wrap(data.v, ttl);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * 获取某个键的过期时间戳。\n   *\n   * @param {string} key 键名称。\n   * @returns {number | undefined} 如果未找到键或已过期，返回 `undefined`。如果 `ttl` 为 `0`，返回 `0`，否则返回一个以毫秒为单位的时间戳，表示键值将过期的时间。\n   * @example\n   * const myCache = new Cache({ stdTTL: 5 * 1000 });\n   *\n   * // 假如 Date.now() = 1673330000000\n   * myCache.set('ttlKey', 'expireData');\n   * myCache.set('noTtlKey', 'nonExpireData', 0);\n   *\n   * myCache.getTtl('ttlKey'); // 1673330005000\n   * myCache.getTtl('noTtlKey'); // 0\n   * myCache.getTtl('unknownKey'); // undefined\n   */\n  getTtl(key: string) {\n    const cacheValues = this.cacheValues;\n    const data = cacheValues[key];\n\n    if (data && this._check(key, data)) {\n      return cacheValues[key].t as number;\n    }\n    return;\n  }\n\n  /**\n   * 获取某个键值的最后修改时间。\n   *\n   * @param {string} key 键名称。\n   * @returns {number | undefined} 如果未找到键或已过期，返回 `undefined`，否则返回一个以毫秒时间戳，表示键值最后修改时间。\n   * @example\n   * const myCache = new Cache();\n   *\n   * // 假如 Date.now() = 1673330000000\n   * myCache.set('myKey', 'foo');\n   * myCache.getLastModified('myKey'); // 1673330000000\n   *\n   * // 5000ms later\n   * myCache.set('myKey', 'bar');\n   * myCache.getLastModified('myKey'); // 1673330005000\n   */\n  getLastModified(key: string) {\n    const cacheValues = this.cacheValues;\n    const data = cacheValues[key];\n\n    if (data && this._check(key, data)) {\n      return cacheValues[key].n as number;\n    }\n    return;\n  }\n\n  /**\n   * 启动定时校验过期数据。\n   *\n   * 注意，如果没有设置 `checkperiod` 将不会触发定时器。\n   *\n   * @example\n   * // 设置 checkperiod 之后自动生效\n   * const myCache = new Cache({\n   *   checkperiod: 10 * 60 * 1000 // 10分钟检查一次数据是否过期\n   * });\n   *\n   * // 停止定时校验过期数据\n   * myCache.stopCheckperiod();\n   *\n   * // 启动定时校验过期数据\n   * myCache.startCheckperiod();\n   */\n  startCheckperiod() {\n    // 触发全部缓存数据是否过期校验\n    this.keys();\n\n    if (this.options.checkperiod > 0) {\n      clearTimeout(this._checkTimeout);\n      this._checkTimeout = setTimeout(() => {\n        this.startCheckperiod();\n      }, this.options.checkperiod);\n    }\n  }\n\n  /**\n   * 停止定时校验过期数据。\n   *\n   * @example\n   * // 设置 checkperiod 之后自动生效\n   * const myCache = new Cache({\n   *   checkperiod: 10 * 60 * 1000 // 10分钟检查一次数据是否过期\n   * });\n   *\n   * // 停止定时校验过期数据\n   * myCache.stopCheckperiod();\n   */\n  stopCheckperiod() {\n    clearTimeout(this._checkTimeout);\n  }\n}\n\nexport default Cache;\n"],"names":["Emitter"],"mappings":"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","x_google_ignoreList":[0,1]}
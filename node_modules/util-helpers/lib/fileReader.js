'use strict';

var FileReaderMethodMap = {
    arrayBuffer: 'readAsArrayBuffer',
    binaryString: 'readAsBinaryString',
    dataURL: 'readAsDataURL',
    text: 'readAsText'
};
var fileReader = function (blob, type) {
    if (type === void 0) { type = 'dataURL'; }
    var method = FileReaderMethodMap[type];
    if (!method) {
        method = FileReaderMethodMap.dataURL;
    }
    return new Promise(function (resolve, reject) {
        var reader = new FileReader();
        reader[method](blob);
        reader.onload = function () { return resolve(reader.result); };
        reader.onerror = function (error) { return reject(error); };
    });
};

module.exports = fileReader;

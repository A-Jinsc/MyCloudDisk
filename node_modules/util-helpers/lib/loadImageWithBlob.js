'use strict';

var getFileBlob = require('./getFileBlob.js');
var loadImage = require('./loadImage.js');

function loadImageWithBlob(img, ajaxOptions) {
    return getFileBlob(img, ajaxOptions).then(function (blob) {
        return loadImage(blob).then(function (image) {
            return { blob: blob, image: image };
        });
    });
}

module.exports = loadImageWithBlob;

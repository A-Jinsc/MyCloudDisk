'use strict';

var ut2 = require('ut2');
var checkFileType = require('./checkFileType.js');
var file_util = require('./utils/file.util.js');

var config = {
    image: 'image/*,.jpeg,.jpg,.gif,.bmp,.png,.webp,.svg,.apng,.avif,.ico,.tif,.tiff',
    audio: 'audio/*,.mp3,.wav,.aac,.flac',
    video: 'video/*,.mp4,.webm,.ogg,.mov',
    pdf: 'application/pdf,.pdf',
    word: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document,.doc,.docx',
    excel: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,.xls,.xlsx'
};
function getFileType(file) {
    var type;
    if (ut2.isBlob(file) || file_util.isUploadFile(file)) {
        ut2.forEach(config, function (accept, fileType) {
            if (checkFileType(file, accept)) {
                type = fileType;
                return false;
            }
        });
    }
    return type;
}

module.exports = getFileType;

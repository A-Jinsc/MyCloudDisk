import isPromiseLike from './isPromiseLike.js';

var guard = function (fn, shouldGuard) {
    var _guard = function (err) {
        if (shouldGuard && !shouldGuard(err)) {
            throw err;
        }
        return undefined;
    };
    try {
        var result = fn();
        return isPromiseLike(result) ? result.catch(_guard) : result;
    }
    catch (err) {
        return _guard(err);
    }
};

export { guard as default };

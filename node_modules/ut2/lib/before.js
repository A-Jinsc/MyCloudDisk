'use strict';

var defaultTo = require('./defaultTo.js');
var helpers = require('./internals/helpers.js');
var native = require('./internals/native.js');
var toNumber = require('./toNumber.js');

function before(n, func) {
    if (typeof func !== 'function') {
        throw new TypeError(helpers.FUNC_ERROR_TEXT);
    }
    var result;
    n = defaultTo(toNumber(n), 0);
    return function () {
        if (--n > 0) {
            result = func.apply(this, arguments);
        }
        if (n <= 1) {
            func = native.nativeUndefined;
        }
        return result;
    };
}

module.exports = before;

'use strict';

var toString = require('./toString.js');

var htmlUnescapes = {
    '&amp;': '&',
    '&lt;': '<',
    '&gt;': '>',
    '&quot;': '"',
    '&#39;': "'"
};
var reEscapedHtml = /&(?:amp|lt|gt|quot|#(0+)?39);/g;
var reHasEscapedHtml = RegExp(reEscapedHtml.source);
function unescape(string) {
    string = toString(string);
    return string && reHasEscapedHtml.test(string)
        ? string.replace(reEscapedHtml, function (chr) {
            return htmlUnescapes[chr] || "'";
        })
        : string || '';
}

module.exports = unescape;

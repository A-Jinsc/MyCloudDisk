'use strict';

var isArray = require('./isArray.js');
var randomInt = require('./randomInt.js');

function shuffle(array) {
    if (!isArray(array) || array.length < 1) {
        return [];
    }
    var result = array.slice();
    var length = result.length;
    var lastIndex = length - 1;
    var index = -1;
    while (++index < length) {
        var rand = randomInt(index, lastIndex);
        var value = result[rand];
        result[rand] = result[index];
        result[index] = value;
    }
    return result;
}

module.exports = shuffle;
